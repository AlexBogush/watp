# Как я запускал мистификацию
На одном из проектов стояла задача прогноза поведения некого графика исходя из его исторических значений. Сама постановка задачи была основана на допущении, что так как весь предыдущий график обусловлен некоей закономерностью, то, узнав эту закономерность, мы сможем спрогнозировать его дальнейшее поведение.

Это классический случай в математике, когда функция задается эмпирически (набором точек), а не аналитически (формулой). Задача, по сути, состоит в том, чтобы подобрать такую формулу, график которой совпадает с изначальным графиком во всех известных заданных точках, а дальше, подставляя в эту формулу значения, неизвестные заранее, предсказать выходные значения. Это называется интерполяцией и изучается на 1-2 курсе университета любой математической, физической или технической направленности. Как выяснилось позже, оно действительно изучается, но вот студентам не всегда объясняют, когда и куда ее можно применить в дальнейшей работе.

Чтобы не грузить вас деталями, скажу просто: у меня в голове сразу возникло примерное понимание решения: выводить интерполяционный полином Лагранжа и подставлять в него нужные значения для прогноза.

Я решил не предлагать готовое решение своей команде, а сыграть с ними в игру: 

>Объявляю охоту на лучший алгоритм для расчета форекаста.
>Кому интересно,
>1) Описывайте ваш алгоритм в комментариях в этом >треде.
>2) Кто первый опишет что-то, сильно похожее на то, что думаю я, получит премию
>3) Кто предложит что-то лучше, чем то, что думаю я, получит большую премию
>4) Срок принятия заявок - до конца следующей недели
>5) Завтра вечером в этом треде опубликую свою подсказку - возможно, она поможет выбрать перспективное направление
>6) Подробность описания алгоритма - достаточный для того, чтобы любой программист его понял и мог заимплементить. Если требуются ссылки на определения, формулы, уравнения, вставляйте в текст описания алгоритма.
 
>Лучший алгоритм будет выбираться по характеристикам в следующем порядке:
>1) универсальность
>2) простота реализации
>3) расчетная точность предсказания
>4) асимптотическая сложность 
 
>Через понедельник подведем итоги и я поделюсь своей версией.
>П.С. Предвижу остряков, уточняющих размеры премий. Отвечаю сразу: шоу ме зе резалт, энд айл шоу ю зе мани.

Первой подсказкой было вот такое сообщение:

>Подсказка: https://youtu.be/WAN4gYSw0yE

![La_Grange](La_Grange.jpeg)

Это была ссылка на выступление группы ZZ Top с песней La Grange. Если ты немного "в теме", то сразу догадаешься, о чем идет речь. Если ты не в теме, то можешь попробовать запросы вроде 

La Grange Chart - находит ноты песни La Grange
La Grange Points - находит что-то на тему астрофизики
La Grange Forecast - находит прогноз погоды в техасском городке
La Grange Function -  находит метод Лагранжа для нахождения локальных экстремумов. Тоже математика, но не та, которая нам нужна

Каждый из этих четырех запросов потенциально способен затянуть ищущего в кроличью нору. Например, первый наведет тебя на мысль, что ответ зашифрован в нотах песни, и что тебе нужно проявить навыки криптографии и выудить-таки оттуда ответ. Второй - что надо погрузиться в астрофизику и связать ее с астрологией, ведь астрология занимается прогнозами, а мы как раз хотим прогнозировать поведение функции. Третий решит посмотреть достопримечательности городка, нарисовать на карте линии, их соединяющие, и получить фигуру, которая даст ответ на мою загадку, особенно если совместить ее с координатами городка и прогнозом температуры и влажности: цифры дадут ответ! Четвертый пойдет через математический анализ, посчитав, что локальные минимумы и максимумы значений являются определяющими для прогноза поведения функции. Каждый из путей сулит бессонные ночи, полные построений теорий, оценке их правдоподобности,собирания обнаруженных фактов и выявления закономерностей, внезапных прозрений ("Так вот что этот хитрец (я) имел в виду!") и разочарований, ведущих... никуда.

Мне было очень интересно, кто сможет праильно интерпретировать первую подсказку. Ведь большинство людей из команды проходили интерполяцию в университете. Ведь просто вспомнив фамилию великого математика и введя в гугл его имя без пробела, можно было наткнуться на несколько картинок в превьюшке статьи о нем. На одной из картинок упоминается полином Лагранжа - как раз то, что мы и ищем.

![Лагранж превьюшка](Lagrange_Preview.jpeg)

Никто не догадался этого сделать. Зато весьма популярной стала теория о том, что скрытый смысл зашит в тексте песни. Одной из вариаций оказалось то, что так как в песне упоминается бордель, то это намек на беспорядочность явления, а значит, в вычислении прогноза должен каким-то образом участвовать рандомизатор. Люди очень серьезно занялись разработкой этой версии, проводили бессонные ночи, напрягали мозги до скрипа и ... были абсолютно счастливы. Редко бывает в жизни возможность испытать настоящий азарт исследователя, который точно значет, что ответ точно есть, хоть и путь к нему неясен, и каждая новая теория вызывает бурю эмоций, ведь именно эта теория потенциально даст ответ!

Еще одним интересным моментом стало то, что ребята обращались к родственникам - профессиональным математикам, пересказывая задачу своими словами и добавляя к изложению задачи свои домыслы. Столкнувшись с такой постановкой задачи, профессиональные математики включались в эту игру и с удовольствием подкидывали еще более умные и сложные построения.

Прошло две недели, и я дал вторую подсказку:

![Вакансия](vacancy.jpeg)

